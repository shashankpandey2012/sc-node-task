{"version":3,"sources":["../../controllers/TaskController.js"],"names":["patch","req","res","json","body","patch_object","patch_array","apply","console","log","err","generateThumb"],"mappings":";;;;;;AAGA;;;;AACA;;;;;;AAJA;;;kBAMe;;AAEXA,WAAQ,eAACC,GAAD,EAAKC,GAAL,EAAW;AACf,YAAIC,OAAOF,IAAIG,IAAJ,CAASD,IAApB;AACA,YAAIE,eAAeJ,IAAIG,IAAJ,CAASJ,KAA5B;AACA,YAAIM,cAAc,EAAlB;AACAA,oBAAY,CAAZ,IAAiBD,YAAjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAG;AACC,oCAAUE,KAAV,CAAiBJ,IAAjB,EAAuBG,WAAvB;AACAE,oBAAQC,GAAR,CAAYN,IAAZ;AACA,uCAAYD,GAAZ,EAAkB,EAACC,MAAOA,IAAR,EAAlB,EAAkC,IAAlC,EAAyC,GAAzC;AACH,SAJD,CAKA,OAAOO,GAAP,EAAW;AACP,uCAAYR,GAAZ,EAAkB,IAAlB,EAAyB,SAAzB,EAAqC,GAArC;AACH;AACJ,KA/BU;;AAiCXS,mBAAgB,uBAACV,GAAD,EAAKC,GAAL,EAAW;AACvB,mCAAYA,GAAZ,EAAgB,uCAAhB,EAA0D,IAA1D,EAAiE,GAAjE;AACH;AAnCU,C","file":"TaskController.js","sourcesContent":["/**\r\n * Created by Shashank on 5/4/2017.\r\n */\r\nimport jsonpatch from 'fast-json-patch';\r\nimport APIResponse from './APIResponse';\r\n\r\nexport default {\r\n\r\n    patch : (req,res)=>{\r\n        let json = req.body.json;\r\n        let patch_object = req.body.patch;\r\n        let patch_array = [];\r\n        patch_array[0] = patch_object;\r\n\r\n        // let errors = jsonpatch.validate(patch_array, json);\r\n        // let has_error = false;\r\n        // if(errors){\r\n        //     if(errors.length !== 0){\r\n        //         for (let i=0; i < errors.length; i++) {\r\n        //             if (errors[i]) {\r\n        //                 console.error(\"Invalid patch at index\", i, errors[i], patch_array[i]);\r\n        //                 has_error = true;\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     if(has_error){\r\n        //         APIResponse(res , {error : errors} , 'INVALID DATA' , 400);\r\n        //     }\r\n        //     else{\r\n        try{\r\n            jsonpatch.apply( json, patch_array );\r\n            console.log(json);\r\n            APIResponse(res , {json : json} , 'OK' , 200);\r\n        }\r\n        catch (err){\r\n            APIResponse(res , null , 'INVALID' , 400);\r\n        }\r\n    },\r\n\r\n    generateThumb : (req,res)=>{\r\n        APIResponse(res,\"UNDER DEVELOPMENT.THANKS FOR PATIENCE\" , 'OK' , 200);\r\n    }\r\n};\r\n"]}