{"version":3,"sources":["../../test/test.js"],"names":["expect","require","should","supertest","api","agent","describe","it","done","post","set","end","err","res","status","equal","body","send","patch","get"],"mappings":"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","file":"test.js","sourcesContent":["/**\r\n * Created by Shashank on 5/10/2017.\r\n */\r\n\r\nlet expect  = require('chai').expect();\r\nlet should = require('should');\r\nsupertest = require('supertest');\r\napi = supertest.agent('http://localhost:3000/api');\r\n\r\n/**\r\n * Unit Test\r\n * */\r\ndescribe(\"SAMPLE unit test\",function(){\r\n\r\n\r\n    /**\r\n     * Test Case:1\r\n     * Calling Login API Without Credentials\r\n     * */\r\n    it('Calling localhost:3000/api/login API without Credentials' , (done)=>{\r\n        api.post('/login')\r\n            .set('Content-Type' , 'application/json')\r\n            .expect('Content-Type' , 'application/json')\r\n            .end((err,res)=>{\r\n\r\n                res.status.should.equal(403);\r\n                res.body.status.should.equal(403);\r\n                done();\r\n            });\r\n    });\r\n\r\n    /**\r\n     * Test Case:2\r\n     * Calling Login API With Wrong\r\n     * */\r\n\r\n    it('Calling localhost:3000/api/login API With Wrong Credentials' , (done)=>{\r\n        api.post('/login')\r\n            .set('Content-Type' , 'application/json')\r\n            .send({\"user_id\" : \"admin\" , \"password\" : \"123\"})\r\n            .expect('Content-Type' , 'application/json')\r\n            .end((err,res)=>{\r\n\r\n                res.status.should.equal(403);\r\n                res.body.status.should.equal(403);\r\n                done();\r\n            });\r\n    });\r\n\r\n    /**\r\n     * Test Case:3\r\n     * Calling Login API with correct Credentials\r\n     * */\r\n    it('Calling localhost:3000/api/login API With Correct Credentials' , (done)=>{\r\n        api.post('/login')\r\n            .set('Content-Type' , 'application/json')\r\n            .send({\"user_id\" : \"admin\" , \"password\" : \"password\"})\r\n            .expect('Content-Type' , 'application/json')\r\n            .end((err,res)=>{\r\n\r\n                res.status.should.equal(200);\r\n                res.body.status.should.equal(200);\r\n                done();\r\n            });\r\n    });\r\n\r\n    /**\r\n     * Test Case:4\r\n     * Calling JSON Patch API With Invalid Patch Object\r\n     * */\r\n    it('Calling localhost:3000/api/v1/apply_json_patch API With Invalid Patch' , (done)=>{\r\n        api.patch('/v1/apply_json_patch')\r\n            .set('Content-Type' , 'application/json')\r\n            .set('Authorization' , 'eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE0OTQwMDE5NzMsImV4cCI6MTQ5OTE4NTk3MywiaXNzIjoic29jaWFsY29wcyIsInN1YiI6ImFkbWluIn0._dVDBSQL-PWrB5wtTBbgB92OmxTWY8yhw6akPuQb7dnJYYYD6fshYDkpIA_4XyCnC0f-IQeJgVqk8R0ebddeLw')\r\n            .send({\r\n                \"json\" : {\r\n                    \"user\": {\r\n                        \"firstName\": \"Albert\"\r\n                    }\r\n                },\r\n\r\n                \"patch\" : {\r\n                    \"op\": \"random\",\r\n                    \"path\": \"/user/firstName\",\r\n                    \"value\": \"Einst\"\r\n                }\r\n            })\r\n            .expect('Content-Type' , 'application/json')\r\n            .end((err,res)=>{\r\n\r\n                res.status.should.equal(400);\r\n                res.body.status.should.equal(400);\r\n                done();\r\n            });\r\n    });\r\n\r\n    /**\r\n     * Test Case:5\r\n     * Calling JSON Patch API With Correct Data*/\r\n    it('Calling localhost:3000/api/v1/apply_json_patch API With Correct Data' , (done)=>{\r\n        api.patch('/v1/apply_json_patch')\r\n            .set('Content-Type' , 'application/json')\r\n            .set('Authorization' , 'eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE0OTQwMDE5NzMsImV4cCI6MTQ5OTE4NTk3MywiaXNzIjoic29jaWFsY29wcyIsInN1YiI6ImFkbWluIn0._dVDBSQL-PWrB5wtTBbgB92OmxTWY8yhw6akPuQb7dnJYYYD6fshYDkpIA_4XyCnC0f-IQeJgVqk8R0ebddeLw')\r\n            .send({\r\n                \"json\" : {\r\n                    \"user\": {\r\n                        \"firstName\": \"Albert\"\r\n                    }\r\n                },\r\n\r\n                \"patch\" : {\r\n                    \"op\": \"replace\",\r\n                    \"path\": \"/user/firstName\",\r\n                    \"value\": \"Einst\"\r\n                }\r\n            })\r\n            .expect('Content-Type' , 'application/json')\r\n            .end((err,res)=>{\r\n\r\n                res.status.should.equal(200);\r\n                res.body.status.should.equal(200);\r\n                done();\r\n            });\r\n    });\r\n\r\n\r\n    /**\r\n     * Test Case:6\r\n     * Calling Thumbnail API*/\r\n    it('Calling localhost:3000/api/v1/create_thumbnail API' , (done)=>{\r\n        api.get('/v1/create_thumbnail?image_url=http://www.himachaltaxi.com/wp-content/uploads/2013/03/Shatabdi-Express-Chandigarh.jpg')\r\n           .set('Authorization' , 'eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE0OTQwMDE5NzMsImV4cCI6MTQ5OTE4NTk3MywiaXNzIjoic29jaWFsY29wcyIsInN1YiI6ImFkbWluIn0._dVDBSQL-PWrB5wtTBbgB92OmxTWY8yhw6akPuQb7dnJYYYD6fshYDkpIA_4XyCnC0f-IQeJgVqk8R0ebddeLw')\r\n           .expect(\"Content-Type\" , 'image/jpeg')\r\n           .end((err,res)=>{\r\n                res.status.should.equal(200);\r\n                done();\r\n           });\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}